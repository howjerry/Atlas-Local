id: atlas/quality/java/missing-default-case
name: Missing Default Case in Switch
description: >
  Detects switch statements that lack a default case. A missing default
  case means unexpected values are silently ignored, which can lead to
  subtle bugs. Even when all known enum values are handled, a default
  case serves as a safety net for future additions and invalid inputs.
severity: low
category: quality
language: Java
confidence: medium
pattern: |
  (switch_expression
    body: (switch_block
      !default:))
  @match
remediation: >
  Add a default case to the switch statement. The default case should
  either handle the unexpected value appropriately or throw an
  IllegalArgumentException / IllegalStateException to fail fast. For
  example, add `default: throw new IllegalArgumentException("Unexpected value: " + value);`.
references:
  - https://rules.sonarsource.com/java/RSPEC-131/
tags:
  - code-quality
  - error-handling
metadata:
  quality_domain: "error-handling"
version: 1.0.0
