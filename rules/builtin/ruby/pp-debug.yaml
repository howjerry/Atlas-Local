id: atlas/quality/ruby/pp-debug
name: Debug Output via pp
description: >
  Detects `pp` (pretty print) calls that are likely debug output left in
  production code. The `pp` method outputs a human-readable representation
  of objects to stdout and should be removed before deployment or replaced
  with proper structured logging.
severity: low
category: quality
language: Ruby
confidence: medium
pattern: |
  ((call
    method: (identifier) @method
    (#eq? @method "pp"))
  @match)
remediation: >
  Remove `pp` calls or replace them with a proper logging framework.
  Use `Rails.logger.debug` or `Logger#debug` for debug output that can
  be configured per environment. For object inspection in development,
  use a debugger like `binding.irb` or `binding.pry` instead.
references:
  - https://ruby-doc.org/stdlib/libdoc/pp/rdoc/PP.html
  - https://ruby-doc.org/stdlib/libdoc/logger/rdoc/Logger.html
tags:
  - code-quality
  - debug-residual
metadata:
  quality_domain: debug-residual
version: 1.0.0
